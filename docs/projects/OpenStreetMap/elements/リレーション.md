# リレーション

> [[OpenStreetMap]]（OSM）におけるリレーションは、複数の[[ノード]]、[[ウェイ]]、あるいは他のリレーションを組み合わせて、より複雑な地理的実体を表現するためのデータ構造です。
> メンバー要素にはそれぞれ役割（role）を割り当てることができ、例えばマルチポリゴン（穴のあるポリゴン）では外周を「outer」、穴を「inner」として定義します。
> バス路線（複数の道路区間の組み合わせ）、複雑な建物（本体と中庭）、行政界（本土と離島）など、単一のノードやウェイでは表現できない関係性を持つ地物を表現するために使用されます。

リレーションは[[ベクターデータ]]の中でも高度な表現形式で、[[GIS]]ではマルチポリゴンや複合的な地物として扱われます。他の[[GIS]]形式に変換する際に重要な役割を果たします。

代表的なリレーションの種類：

- マルチポリゴン（`type=multipolygon`）：穴のあるポリゴンや島を含む複雑な領域
- 経路（`type=route`）：バス路線や自転車道、ハイキングコースなど
- 行政界（`type=boundary`, `boundary=administrative`）：国境、都道府県境、市区町村境など
- 制限（`type=restriction`）：進入禁止や一方通行などの交通規制

[[osmium]]でOSMデータを処理する際には、リレーションを適切に解析してマルチポリゴンを構築する処理が必要です。[[GDAL]]や[[ogr2ogr]]などのツールでは、リレーションを適切な[[GeoJSON]]や[[Shapefile]]の形式に変換できます。[[foil4g]]プロジェクトでは、こうした複雑なデータ構造の扱いについてのドキュメントも提供しています。
